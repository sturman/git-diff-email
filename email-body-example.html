<html><head><meta charset="utf-8"><title>Pretty Diff</title><style>body {text-align: center;}#wrapper {display: inline-block;margin-top: 1em;min-width: 800px;text-align: left;}h2 {background: #fafafa;background: -moz-linear-gradient(#fafafa, #eaeaea);background: -webkit-linear-gradient(#fafafa, #eaeaea);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr='#fafafa',endColorstr='#eaeaea')";border: 1px solid #d8d8d8;border-bottom: 0;color: #555;font: 14px sans-serif;overflow: hidden;padding: 10px 6px;text-shadow: 0 1px 0 white;margin: 0;}.file-diff {border: 1px solid #d8d8d8;margin-bottom: 1em;overflow: auto;padding: 0.5em 0;}.file-diff > div {width: 100%:}pre {margin: 0;font-family: "Bitstream Vera Sans Mono", Courier, monospace;font-size: 12px;line-height: 1.4em;text-indent: 0.5em;}.file {color: #aaa;}.delete {background-color: #fdd;}.insert {background-color: #dfd;}.info {color: #a0b;}</style></head><body><div id="wrapper"><h2>.github/workflows/blank.yml</h2><div class="file-diff"><pre class="file">diff --git a/.github/workflows/blank.yml b/.github/workflows/blank.yml</pre><pre class="context">index 7f4c9d8..0028e4d 100644</pre><pre class="delete">--- a/.github/workflows/blank.yml</pre><pre class="insert">+++ b/.github/workflows/blank.yml</pre><pre class="info">@@ -26,4 +26,5 @@ jobs:</pre><pre class="context">     # Runs a set of commands using the runners shell</pre><pre class="context">     - name: Run a multi-line script</pre><pre class="context">       run: |</pre><pre class="delete">-        git diff ${{ github.event.before }} ${{ github.sha }}</pre><pre class="insert">+        git diff ${{ github.event.before }} ${{ github.sha }} | bash ./diff2html.sh &gt; email-body.html</pre><pre class="insert">+        cat ./email-body.html</pre></div><h2>diff.py</h2><div class="file-diff"><pre class="file">diff --git a/diff.py b/diff.py</pre><pre class="context">deleted file mode 100644</pre><pre class="context">index 41ed417..0000000</pre><pre class="delete">--- a/diff.py</pre><pre class="insert">+++ /dev/null</pre><pre class="info">@@ -1,11 +0,0 @@</pre><pre class="delete">-import json</pre><pre class="delete">-import os</pre><pre class="delete">-</pre><pre class="delete">-import requests</pre><pre class="delete">-</pre><pre class="delete">-with open(os.environ['GITHUB_EVENT_PATH']) as f:</pre><pre class="delete">-    data = json.load(f)</pre><pre class="delete">-    commits = data['commits']</pre><pre class="delete">-    for commit in commits:</pre><pre class="delete">-        r = requests.get(commit['url'])</pre><pre class="delete">-        print(r.text)</pre></div><h2>dev/null</h2><div class="file-diff"><pre class="file">diff --git a/diff2html.sh b/diff2html.sh</pre><pre class="context">new file mode 100755</pre><pre class="context">index 0000000..f2578eb</pre><pre class="delete">--- /dev/null</pre><pre class="insert">+++ b/diff2html.sh</pre><pre class="info">@@ -0,0 +1,116 @@</pre><pre class="insert">+#!/bin/bash</pre><pre class="insert">+#</pre><pre class="insert">+# Convert diff output to colorized HTML.</pre><pre class="insert">+# (C) Mitch Frazier, 2008-08-27</pre><pre class="insert">+# http://www.linuxjournal.com/content/convert-diff-output-colorized-html</pre><pre class="insert">+# Modified by stopyoukid</pre><pre class="insert">+#</pre><pre class="insert">+</pre><pre class="insert">+html="&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;Pretty Diff&lt;/title&gt;&lt;style&gt;body {text-align: center;}#wrapper {display: inline-block;margin-top: 1em;min-width: 800px;text-align: left;}h2 {background: #fafafa;background: -moz-linear-gradient(#fafafa, #eaeaea);background: -webkit-linear-gradient(#fafafa, #eaeaea);-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='#fafafa',endColorstr='#eaeaea')\";border: 1px solid #d8d8d8;border-bottom: 0;color: #555;font: 14px sans-serif;overflow: hidden;padding: 10px 6px;text-shadow: 0 1px 0 white;margin: 0;}.file-diff {border: 1px solid #d8d8d8;margin-bottom: 1em;overflow: auto;padding: 0.5em 0;}.file-diff &gt; div {width: 100%:}pre {margin: 0;font-family: \"Bitstream Vera Sans Mono\", Courier, monospace;font-size: 12px;line-height: 1.4em;text-indent: 0.5em;}.file {color: #aaa;}.delete {background-color: #fdd;}.insert {background-color: #dfd;}.info {color: #a0b;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=\"wrapper\"&gt;"</pre><pre class="insert">+first=1</pre><pre class="insert">+diffseen=0</pre><pre class="insert">+lastonly=0</pre><pre class="insert">+currSection=''</pre><pre class="insert">+currFile=''</pre><pre class="insert">+</pre><pre class="insert">+function addDiffToPage {</pre><pre class="insert">+  html+="&lt;h2&gt;"$1"&lt;/h2&gt;"</pre><pre class="insert">+	html+="&lt;div class=\"file-diff\"&gt;"</pre><pre class="insert">+	html+=$2</pre><pre class="insert">+	html+="&lt;/div&gt;"</pre><pre class="insert">+}</pre><pre class="insert">+</pre><pre class="insert">+OIFS=$IFS</pre><pre class="insert">+IFS='</pre><pre class="insert">+'</pre><pre class="insert">+</pre><pre class="insert">+# The -r option keeps the backslash from being an escape char.</pre><pre class="insert">+read -r s</pre><pre class="insert">+</pre><pre class="insert">+while [[ $? -eq 0 ]]; do</pre><pre class="insert">+	# Get beginning of line to determine what type of diff line it is.</pre><pre class="insert">+	t1=${s:0:1}</pre><pre class="insert">+	t2=${s:0:2}</pre><pre class="insert">+	t3=${s:0:3}</pre><pre class="insert">+	t4=${s:0:4}</pre><pre class="insert">+	t7=${s:0:7}</pre><pre class="insert">+</pre><pre class="insert">+	# Determine HTML class to use.</pre><pre class="insert">+	if    [[ "$t7" == 'Only in' ]]; then</pre><pre class="insert">+		cls='only'</pre><pre class="insert">+</pre><pre class="insert">+		if [[ $diffseen -eq 0 ]]; then</pre><pre class="insert">+			diffseen=1</pre><pre class="insert">+		else</pre><pre class="insert">+			if [[ $lastonly -eq 0 ]]; then</pre><pre class="insert">+                addDiffToPage $currFile $currSection</pre><pre class="insert">+			fi</pre><pre class="insert">+		fi</pre><pre class="insert">+</pre><pre class="insert">+		if [[ $lastonly -eq 0 ]]; then</pre><pre class="insert">+			currSection=""</pre><pre class="insert">+		fi</pre><pre class="insert">+		lastonly=1</pre><pre class="insert">+</pre><pre class="insert">+	elif [[ "$t4" == 'diff' ]]; then</pre><pre class="insert">+		cls='file'</pre><pre class="insert">+		if [[ $diffseen -eq 1 ]]; then</pre><pre class="insert">+            addDiffToPage $currFile $currSection</pre><pre class="insert">+		fi</pre><pre class="insert">+</pre><pre class="insert">+		diffseen=1</pre><pre class="insert">+		currSection=""</pre><pre class="insert">+		lastonly=0</pre><pre class="insert">+</pre><pre class="insert">+	elif  [[ "$t3" == '+++' ]]; then</pre><pre class="insert">+        # --- always comes before +++</pre><pre class="insert">+	#	currFile=${s#+++ */}</pre><pre class="insert">+		cls='insert'</pre><pre class="insert">+		lastonly=0</pre><pre class="insert">+</pre><pre class="insert">+	elif  [[ "$t3" == '---' ]]; then</pre><pre class="insert">+		currFile=${s#--- */}</pre><pre class="insert">+		cls='delete'</pre><pre class="insert">+		lastonly=0</pre><pre class="insert">+</pre><pre class="insert">+	elif  [[ "$t2" == '@@' ]]; then</pre><pre class="insert">+		cls='info'</pre><pre class="insert">+		lastonly=0</pre><pre class="insert">+</pre><pre class="insert">+	elif  [[ "$t1" == '+' ]]; then</pre><pre class="insert">+		cls='insert'</pre><pre class="insert">+		lastonly=0</pre><pre class="insert">+</pre><pre class="insert">+	elif  [[ "$t1" == '-' ]]; then</pre><pre class="insert">+		cls='delete'</pre><pre class="insert">+		lastonly=0</pre><pre class="insert">+</pre><pre class="insert">+	else</pre><pre class="insert">+		cls='context'</pre><pre class="insert">+		lastonly=0</pre><pre class="insert">+	fi</pre><pre class="insert">+</pre><pre class="insert">+	# Convert &amp;, &lt;, &gt; to HTML entities.</pre><pre class="insert">+	s=$(sed -e 's/\&amp;/\&amp;amp;/g' -e 's/&lt;/\&amp;lt;/g' -e 's/&gt;/\&amp;gt;/g' &lt;&lt;&lt;"$s")</pre><pre class="insert">+	if [[ $first -eq 1 ]]; then</pre><pre class="insert">+		first=0</pre><pre class="insert">+	fi</pre><pre class="insert">+</pre><pre class="insert">+	# Output the line.</pre><pre class="insert">+	if [[ "$cls" ]]; then</pre><pre class="insert">+		currSection+='&lt;pre class="'${cls}'"&gt;'${s}'&lt;/pre&gt;'</pre><pre class="insert">+	else</pre><pre class="insert">+		currSection+='&lt;pre&gt;'${s}'&lt;/pre&gt;'</pre><pre class="insert">+	fi</pre><pre class="insert">+</pre><pre class="insert">+	read -r s</pre><pre class="insert">+done</pre><pre class="insert">+</pre><pre class="insert">+#if [[ $diffseen -eq 1  &amp;&amp;  $onlyseen -eq 0 ]]; then</pre><pre class="insert">+if [[ "$currSection" ]]; then</pre><pre class="insert">+    addDiffToPage $currFile $currSection</pre><pre class="insert">+fi</pre><pre class="insert">+html+="&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;"</pre><pre class="insert">+echo "$html"</pre><pre class="insert">+</pre><pre class="insert">+IFS=$OIFS</pre><pre class="context">\ No newline at end of file</pre></div><h2>requirements.txt</h2><div class="file-diff"><pre class="file">diff --git a/requirements.txt b/requirements.txt</pre><pre class="context">deleted file mode 100644</pre><pre class="context">index 822be75..0000000</pre><pre class="delete">--- a/requirements.txt</pre><pre class="insert">+++ /dev/null</pre><pre class="info">@@ -1 +0,0 @@</pre><pre class="delete">-requests==2.23.0</pre><pre class="context">\ No newline at end of file</pre></div></div></body></html>